import itertools

def primes():      # неоптимально
    k = 2
    while True:
        res = 0
        for i in range(1, k+1):
            if k % i == 0:
                res += 1
        if res == 2:
            yield k
        k += 1
        
print(list(itertools.takewhile(lambda x : x <= 31, primes())))
